<!DOCTYPE html>
<html lang="en" ng-app="App">
    <head>
		<meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
        <title>Slideshow with jmpress.js</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta name="description" content="Slideshow with jmpress.js" />
        <meta name="keywords" content="jmpress, slideshow, container, plugin, jquery, css3" />
        <meta name="author" content="for Codrops" />
        <link rel="shortcut icon" href="../favicon.ico"> 
		<link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:700,300,300italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
		<!--[if lt IE 9]>
		<link rel="stylesheet" type="text/css" href="css/style_ie.css" />
		<![endif]-->
		<!-- jQuery -->
				<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.12/d3.js"></script>
		<!-- jmpress plugin -->
		<script type="text/javascript" src="js/jmpress.min.js"></script>
		<script id="tinyhippos-injected">if (window.top.ripple) { window.top.ripple("bootstrap").inject(window, document); }</script>
		<!-- jmslideshow plugin : extends the jmpress plugin -->
		<script type="text/javascript" src="js/jquery.jmslideshow.js"></script>
		<script src="../sample_campaign_page_files/functions.js" type="text/javascript"></script> 
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<noscript>
			<style>
			.step {
				width: 100%;
				position: relative;
			}
			.step:not(.active) {
				opacity: 1;
				filter: alpha(opacity=99);
				-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(opacity=99)";
			}
			.step:not(.active) a.jms-link{
				opacity: 1;
				margin-top: 40px;
			}

			</style>
		</noscript>
    </head>
    <body>
		<header>
			<h1><img src="images/bg_header.png"></h1>
		</header>
        <div class="container">								

			<section id="jms-slideshow" class="jms-slideshow">
				<div class="step" data-color="color-1">
					<div class="jms-content">
						<img src="images/MAGNUM_Campaign_Report_Tailify1.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-1">
					<div class="jms-content">
						<img src="images/MAGNUM_Campaign_Report_Tailify1.1.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-2" data-y="500" data-scale="0.4" data-rotate-x="30">
					<div class="jms-content">
						<img src="images/MAGNUM_Campaign_Report_Tailify2.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-2" data-y="500" data-scale="0.4" data-rotate-x="30">
					<div class="jms-content">
						<img src="images/MAGNUM_Campaign_Report_Tailify2.1.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-4" data-x="3000">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify4.png" />
					</div>
					
				</div>				<div class="step" data-color="color-4" data-x="3000">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify4.1.png" />
					</div>
					
				</div>				<div class="step" data-color="color-4" data-x="3000">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify4.2.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="1000" data-rotate-y="45">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify5.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="1000" data-rotate-y="90">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify6.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="1000" data-rotate-y="90">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify6.1.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="1000" data-rotate-y="90">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify6.2.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="3000" data-rotate-y="180">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify7.png" />
					</div>
					
				</div>
				<div class="step" data-color="color-5" data-x="4500" data-z="4000" data-rotate-y="45">
					<div class="jms-content">
<img src="images/MAGNUM_Campaign_Report_Tailify8.png" />
					</div>
					
				</div>
			</section>
        </div>
		


    	<footer>
			<h1><img src="images/f.png"></h1>
		</footer>



		<script type="text/javascript">

		//jQuery
		$(document).ready(function(){
			setTimeout(function(){
				$('.graph').fadeOut();
			}, 5000);
		})

		// Impress
		var jmpressOpts = {
		    animation       : { transitionDuration : '0.8s' }
		};


		$(function() {
		
			$( '#jms-slideshow' ).jmslideshow($.extend( true, { jmpressOpts : jmpressOpts }, {
				    autoplay    : true,
				     interval    : 4500
				})
			);
		});


		$('#jmpress').jmpress({
		'setActive': function( element, eventData ) {
			// ...
		}
});




		// D3
		function updateGraph(dt, chart){
			var w = 20;
			var colors = d3.scale.category10();
			
			var group = chart.selectAll("g")
				.data(dt)
				.enter().append("g");

			var bar = group.selectAll("rect")
				.data(function(d){
					return d;
		});

		// update
		bar.attr("transform", function(d, i) {
				x = "translate("+(i*2.2*w+j*w)+",0)";
				return x; })
			.transition()
			.duration(130)
			.attr("width", w)
			.attr("height", function(d){return d*10;});
		
		// enter
		bar.enter().append("rect")
			.attr("transform", function(d, i, j) {
				transl = "translate("+(i*2.2*w+j*w)+",0)";
				return transl; })
			.attr("fill", function(d,i,j){
				return colors(j);})
			.attr("height", 0)
			.attr("width", w)
			.transition()
			.duration(7350)
			.attr("height", function(d){return d*10;});

		// exit
		bar.exit()
			.transition()
			.duration(750)
			.attr("height", 0)
			.remove();
		}


		chart = d3.select("#jms-slideshow").append("svg")
			.attr("class", "graph")
			.attr("width", 800)
			.attr("height", 200);

		// prepare data
		l = [[1,2,3,4,5,6], [6,5,4,3,2,1]];

		// intialize graph
		updateGraph(l, chart);

		// update graph regularly
		// generate a nested dataset with random numbers
		setInterval(function(){
			l = [];
			len = Math.round(Math.random()*20);
			for (j= 0; j<2; j++){
				lt = [];
				for (i = 0; i<len; i++){
					lt.push(Math.round(Math.random()*20));
				}
				l.push(lt);
			}
			updateGraph(l, chart);
		}, 1500);
		</script>
    </body>
</html>